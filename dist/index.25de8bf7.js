const API_URL="https://api.themoviedb.org/3/discover/movie?api_key=6a06f6cef3d768e50f7cebabd4d86561",API_IMG="https://image.tmdb.org/t/p/w500";let movieParameter="&sort_by=popularity.desc&page=1",moviedb=API_URL+movieParameter;const SEARCH_URL="https://api.themoviedb.org/3/search/movie?api_key=6a06f6cef3d768e50f7cebabd4d86561&query=",popularMovie=document.querySelector(".popular__movies"),discover=document.querySelector(".discover-container"),selected=document.querySelector(".select"),form=document.querySelector(".input-form"),searchItem=document.querySelector(".input");let dropdownValue=0;async function fetchMovies(e){fetch(e).then((e=>e.json())).then((e=>{discover.innerHTML="",showMovies(e.results)}))}function showMovies(e){e.forEach(((e,o)=>{const{title:t,overview:n,poster_path:i,vote_average:s}=e,a=document.createElement("div");a.classList.add("discover__movie-container"),a.innerHTML=`\n    <div class="discover__movie-container">\n            <div class="movie-container__front">\n                <img src="${API_IMG+i}" alt="" />\n                <p class="text-lg movie-container__front-title">\n                ${t}\n                </p>\n            </div>\n            <div class="movie-container__back hidden">\n                <p>${n}</p>\n                <span>${s}</span>\n            </div>\n          </div>`,discover.appendChild(a)}))}fetchMovies(moviedb),selected.addEventListener("change",(e=>{e.preventDefault(),dropdownValue=e.target.value,1==dropdownValue?moviedb=API_URL+"&sort_by=vote_count.desc&page=1":2==dropdownValue?moviedb=API_URL+"&sort_by=popularity.desc&page=1":3==dropdownValue?moviedb=API_URL+"&sort_by=vote_average.desc&page=1":4==dropdownValue?moviedb=API_URL+"&sort_by=original_title.asc&page=1":5==dropdownValue&&(moviedb=API_URL+"&sort_by=release_date.desc&page=1"),fetch(moviedb).then((e=>e.json())).then((e=>{discover.innerHTML="",showMovies(e.results)}))})),form.addEventListener("submit",(e=>{e.preventDefault();const o=searchItem.value;fetchMovies(SEARCH_URL+o)})),fetch(moviedb).then((e=>e.json())).then((e=>e.results)).then((e=>e.slice(0,5))).then((e=>{e.forEach(((e,o)=>{console.log(`slide${o+1}`),popularMovie.innerHTML+=`\n    <div id="item${o+1}" class= "carousel-item w-full">\n    <div class="popular__image-container">\n    <img src="${API_IMG+e.poster_path}" class="w-full" alt="" />\n    </div>\n    <div class="popular__movie-info p-4">\n    <h3 class="text-lg mb-4">${e.title}</h3>\n    <p class="text-sm mb-2">${e.overview}\n    </p>\n    <span>${e.vote_average}</span>\n    </div>\n    </div>\n    `}))}));
//# sourceMappingURL=index.25de8bf7.js.map
